[[{"l":"Welcome to Runfile","p":["Runfile is a command line utility and a Ruby library that helps you create feature-rich command line utilities for your projects.","You create a Runfile, and execute commands with run command arguments -and --flags.","If you are familiar with Ruby's Rake, or with Makefile, then the concept of Runfile should be familiar to you.","Under the hood, Runfile makes use of the Docopt library, so that you can define your command's argument in an intuitive way.","For example, the below usage methods uses a docopt string, to define a command named greet with one required argument ( name) and one optional flag ([--color])."]},{"l":"What is Runfile","p":["Runfile is:","A command line utility named run","A Domain Specific Language (DSL) in the form of Ruby methods, to help you define your program's behavior.","A simple Runfile looks like this:","And this Runfile can be executed by running:"]},{"l":"Examples","p":["The GitHub repository of Runfile contains many documented examples, showing different aspects of its functionality."]},{"l":"Installation","p":["Runfile comes as a Ruby gem and is primarily designed for Ruby developers.","To install Runfile, run:"]}],[{"l":"Program Details","p":["Commands to specify information about the program, such as its name and version."]},{"l":"title","p":["Define the title of the application. This command is optional."]},{"l":"summary","p":["Define the one line application help message. This command is optional."]},{"l":"version","p":["Specify a version string for your program. This command is optional."]}],[{"l":"Program Actions","p":["Commands to define program actions."]},{"l":"usage","p":["- unless the action requires arguments.","Specify the usage pattern of the following action. This string is expected to be in any format recognized by docopt.","In some cases ( compact usage example) you may want to force-disable the usage text for the following action. Simply use usage false."]},{"l":"help","p":["Specify the help message for the following action. This is the message that will be displayed when you execute run --help"]},{"l":"option","p":["- unless usage is ambiguous.","Specify the help information for any of the option flags. This is the place where you can specify that a certain flag also has a short version.","Normally, the help message for all options appear under the Options: caption. If you provide the third label argument, it will appear under a different caption."]},{"l":"param","p":["Specify the help information for any of the positional parameters. This is purely decorative and has no impact on the operation of the Runfile.","Normally, the help message for all parameters appear under the Parameters: caption. If you provide the third label argument, it will appear under a different caption."]},{"l":"env_var","p":["Specify the help information for any environment variables your Runfile may need. This is purely decorative and has no impact on the operation of the Runfile.","Normally, the help message for all environment variables appears under the Environment Variables: caption. If you provide the third label argument, it will appear under a different caption."]},{"l":"example","p":["Add an example command to the general help information. When adding an example, the command run --help will show an Examples: section at the end of the help text, with all added examples.","You do not need to include the run or run runfile_name at the beginning of your example text, it is done automatically."]},{"l":"action","p":["Define the actual action block that will be called."]},{"l":"command","p":["The command command lets you define a namespace. Once you use this command, any subsequent action will be associated with this namespace.","This is a way to create sub commands.","Call without parameter to revert back to the global namespace."]},{"l":"endcommand","p":["Alias for command. Intended as a syntactic sugar so that you can end a command 'namespace' with endcommand instead of an empty command."]}],[{"l":"Other Commands","p":["Additional commands you can use in your action blocks."]},{"l":"execute","p":["Call another action. This command accepts a single string argument which should include the command as if you type it in the command prompt (only without the run prefix)."]}],[{"l":"Runfile Location and Filename","p":["Runfile is designed to help you create both project specific command line tools, and system wide command line applications.","Project Runfiles are simply named Runfile and can only be accessed in the same directory they live in.","Named Runfiles (*.runfile) can exist in several places:","*.runfile in the current folder","*.runfile in ~/runfile and its sub directories","*.runfile in /etc/runfile and its sub directories","*.runfile in any custom folder","When you execute run, this is what happens:","If there is a file called Runfile in the current directory, we will use it.","If there is a file called .runfile in the current folder, we will use it as a configuration file to tell us where the runfiles are. (See Custom Location below).","If not, search for *.runfiles in the runfile search directories and sub-directories.","If one or more were found, show a list of all of them."]},{"l":"Using a project Runfile"},{"l":"Using named Runfiles"},{"l":"Custom Location for Named Runfiles","p":["For more advanced uses, you can define multiple Runfiles per project.","This can be handy if you have a large set of commands and wish to separate them to multiple files.","Simply create a .runfile settings file in your project, and use it to specify the location of the folder containing your runfiles.","This settings file supports several more options, like auto-loading a helper file, and creating command shortcuts.","Read more in the Multiple Project Runfiles page, or see the Settings Example","Runfile Location and Filename"]},{"l":"Ignoring the local Runfile","p":["In case you are using both local Runfiles and global named runfiles, you may find yourself in a situation where you are trying to run a named runfile from a folder that contains a local Runfile.","The local Runfile will take precedence and not allow access to your global runfiles.","To overcome this issue, use run! instead of run.","The run! command will ignore the local Runfile and only look for named runfiles."]},{"l":"Note for RVM users","p":["If you are using RVM, it is recommended you add this to your .bashrc:","This will prevent RVM from silently prepending it with bundle exec.","More information is available in the RVM documentation and in the RVM GitHub Repository."]}],[{"l":"Creating Reusable Tasks","p":["You can easily build a set of tasks that can be reused in any Runfile.","Since this is pure ruby, there are many ways to do so. The below is an example."]},{"i":"step-1-create-your-common-tasks-file","l":"Step 1: Create your common tasks file","p":["Let's save this file as tasks.rb:"]},{"i":"step-2-embed-the-tasks-in-your-runfile","l":"Step 2: Embed the tasks in your Runfile","p":["Create a Runfile file (you can simply run run make) and paste this content in it."]},{"i":"step-3-test-the-runfile","l":"Step 3: Test the Runfile","p":["Running run will now show both the embedded and local tasks:"]},{"l":"Packing reusable tasks as a gem","p":["You can pack your reusable tasks as a gem for all to enjoy.","An example of such a gem, is the runfile-tasks gem which provides a collection of tasks like:","Tasks for running tests (minitest, rspec, cucumber).","Tasks for packing and publishing gems.","And more."]}],[{"l":"Multiple Project Runfiles","p":["Runfile provides another mechanism for more advanced uses.","This mechanism lets you have multiple named runfiles per project. This is useful when your Runfile becomes too large, or when you wish to separate it to logical units.","To use this mechanism, you need to:","Delete the Runfile file from your project's folder.","Create a .runfile settings file (YAML) in your project's folder."]},{"l":"The .runfile configuration file","p":["To see how it works, check out the Settings Example.","Now, whenever you execute run, we will look for lib/commands/*.runfile files and you can execute any of them like any other named runfile.","Running run without any argument will show both the runfiles in the folder and the available shortcuts."]}]]